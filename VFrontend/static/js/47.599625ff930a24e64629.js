webpackJsonp([47],{"05fk":function(e,t){},OdN7:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABwCAYAAADG4PRLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0NzVBNTU1RjJEMEIxMUVBQTEwMkNCMUI4QzAwQzZGMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0NzVBNTU2MDJEMEIxMUVBQTEwMkNCMUI4QzAwQzZGMiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ3NUE1NTVEMkQwQjExRUFBMTAyQ0IxQjhDMDBDNkYyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQ3NUE1NTVFMkQwQjExRUFBMTAyQ0IxQjhDMDBDNkYyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+j4gL8wAADUxJREFUeNrsXQmQVcUV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"},czFg:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i("TVG1");var o=i("0IQH"),a=i("mUeO"),s={name:"uploadVideo",data:function(){return{Video:{type:0,localUrl:null,localVTime:null,thirdUrl:null,protocol:1,protocolTip:!1,uploading:!1,doMains:!0},Member:{loading:!0},popupLayer:{show:!1,conShow:!1,curState:null},equityCon:null}},components:{upload:function(){return i.e(1).then(i.bind(null,"xXyy"))},PageHead:i("b9vL").a},created:function(){var e=this.Video,t=this.Member;if(this.$store.getters.variables.many.VideoData&&this.$store.getters.variables.many.VideoData.vid){var i=this.$store.getters.variables.many.VideoData;for(var o in i)e[o]=i[o]}Object(a.o)().then(function(e){for(var i in e)t[i]=e[i];t.loading=!1}),this.getEquity()},methods:{getEquity:function(){var e=this;Object(a.b)().then(function(t){e.equityCon=t.equity})},UploadSucceed:function(e){this.Video.platform="",this.Video.cover=e.cover,this.Video.vid=e.videoId,this.Video.size=e.file.size,this.Video.vTitle=this.Video.localUrl.substr(0,this.Video.localUrl.lastIndexOf(".")),this.Video.vTitle=this.Video.vTitle.substr(0,40),this.Video.uploading=0,this.writeStorage()},addFileSuccess:function(e){this.localVideo(e)},StartUpload:function(){this.$refs.upload.StartUpload()},changeVideoType:function(e){this.Video.type=e,1===e&&$("#thirdTextarea").focus()},getFileURL:function(e){var t=null;return void 0!=window.createObjectURL?t=window.createObjectURL(e):void 0!=window.URL?t=window.URL.createObjectURL(e):void 0!=window.webkitURL&&(t=window.webkitURL.createObjectURL(e)),t},localVideo:function(e){var t=this.Video;if(t.vid=null,e){var i=this.getFileURL(e),o=document.createElement("video");o.src=i,setTimeout(function(){t.localVTime=o.duration},500),t.localSize=e.size,t.localUrl=e.name,t.videoType=t.localUrl.substr(t.localUrl.lastIndexOf(".")+1).toLocaleLowerCase()}},nextPage:function(){var e=this,t=(e.Page,e.Video);e.videoValidate()&&(t.vid&&e.$router.push({path:"edit"}),t.uploading=!0,1===t.type?Object(a.f)({share:t.thirdUrl}).then(function(i){t.vTitle=i.name,t.platform=i.platform,t.cover=i.cover,t.vid=i.video.vid,t.path=i.video.path,t.host=i.video.host,t.size=i.video.size,t.uploading=!1,e.writeStorage()}).catch(function(e){t.uploading=!1,e.code?o.a.Msg({message:e.msg}):o.a.Msg({message:"请粘贴正确的分享链接"})}):2===t.type&&e.StartUpload())},writeStorage:function(){this.$util.variable.Set({key:"VideoData",val:this.Video}),this.$router.push({path:"edit"})},protocolFun:function(){var e=this.Video;e.protocol=1*!e.protocol,e.protocolTip=!1},videoValidate:function(){var e=this.Video,t=!1;switch(e.type){case 0:t="请粘贴第三方地址或者上传本地视频！";break;case 1:!e.thirdUrl&&(t="请粘贴第三方地址！");break;case 2:!e.localUrl&&(t="请上传本地视频！")}return 2!==e.type||t||("mp4"!==e.videoType&&"mov"!==e.videoType&&(t="只能上传mp4或mov文件！"),!t&&e.localVTime>61&&(t="视频时长超过1分钟，请重新上传")),e.uploading&&(1===e.type?t="正在处理视频请稍候！":2===e.type&&(t="正在上传视频请稍候！")),t?o.a.Msg({message:t}):e.protocol||(e.protocolTip=1,t=!0),!t},showHidePopup:function(e,t){var i=this.popupLayer;1===e?(i.show=e,i.curState=t,setTimeout(function(){i.conShow=e},1)):(setTimeout(function(){i.show=e},300),i.conShow=e)},textBlur:function(){window.scroll()}}},n={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeInLeftBig","leave-active-class":"animated fadeOutLeftBig"}},[o("div",{staticClass:"page-layout upload-video-wrap"},[e.Video.uploading&&1===e.Video.type?o("span",{staticClass:"loading-icon"},[e._v("正在上传中，大约需要30秒")]):e._e(),e._v(" "),o("PageHead",{attrs:{title:"发布视频"}}),e._v(" "),o("div",{staticClass:"page-body"},[o("div",{staticClass:"upload-video-container"},[o("div",{staticClass:"point"},[e._v("\n                    请勿带有色情、反动、敏感词、禁用词汇等违法信息\n                ")]),e._v(" "),e.Member.loading?e._e():o("div",{staticClass:"box-group"},[o("div",{staticClass:"box third-party-box",class:{checked:1===e.Video.type},on:{click:function(t){return e.changeVideoType(1)}}},[o("div",{staticClass:"box-h"},[e._v("使用第三方视频素材")]),e._v(" "),o("div",{staticClass:"box-b"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Video.thirdUrl,expression:"Video.thirdUrl"}],attrs:{id:"thirdTextarea",placeholder:'请复制短视频分享链接,复制后无需二次编辑。目前支持"抖音""快手"平台的视频分享链接'},domProps:{value:e.Video.thirdUrl},on:{focus:function(t){return e.changeVideoType(1)},blur:e.textBlur,input:function(t){t.target.composing||e.$set(e.Video,"thirdUrl",t.target.value)}}})])]),e._v(" "),e.Video.doMains&&e.Member.isLocalUpload?o("upload",{ref:"upload",attrs:{data:{Video:e.Video,changeVideoType:e.changeVideoType,UploadSucceed:e.UploadSucceed,addFileSuccess:e.addFileSuccess}}}):e._e(),e._v(" "),e.Video.doMains?e._e():o("div",{staticClass:"box upload-box",attrs:{disabled:""}},[o("div",{staticClass:"box-b"},[o("div",{staticClass:"disabled-icon"},[o("img",{attrs:{src:i("OdN7"),alt:""}})]),e._v(" "),o("h5",[e._v("您还没有配置独立域名")]),e._v(" "),o("p",[e._v("上传视频功能仅支持独立域名网站")])])])],1)])]),e._v(" "),o("div",{staticClass:"page-foot"},[o("div",{staticClass:"protocol-box"},[o("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated bounceIn","leave-active-class":"animated fadeOut"}},[e.Video.protocolTip?o("span",{staticClass:"tip-prop"},[e._v("请先同意知识产权承诺")]):e._e()]),e._v(" "),o("span",{on:{click:e.protocolFun}},[o("span",{staticClass:"sjzs-icon s-icon-duigou-1 radio-select",attrs:{"data-selected":e.Video.protocol}}),e._v(" "),o("span",{staticClass:"text"},[e._v("我已阅读并同意")])]),e._v(" "),o("b",{on:{click:function(t){return e.showHidePopup(1,"clause")}}},[e._v("《知识产权承诺》")])],1),e._v(" "),o("a",{staticClass:"orange-btn next-btn",class:{disabled:e.Video.uploading},on:{click:e.nextPage}},[o("span",[e._v("下一步")])])]),e._v(" "),e.popupLayer.show&&"clause"===e.popupLayer.curState?o("div",{staticClass:"popup-area"},[o("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[e.popupLayer.conShow?o("div",{staticClass:"popup-box clause-info-popup"},[o("div",{staticClass:"clause-content",domProps:{innerHTML:e._s(e.equityCon)}}),e._v(" "),o("i",{staticClass:"close",on:{click:function(t){return e.showHidePopup(0)}}})]):e._e()])],1):e._e()],1)])},staticRenderFns:[]};var c=i("C7Lr")(s,n,!1,function(e){i("05fk")},null,null);t.default=c.exports}});
//# sourceMappingURL=47.599625ff930a24e64629.js.map