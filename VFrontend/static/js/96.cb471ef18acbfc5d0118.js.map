{"version":3,"sources":["webpack:///src/pages/shop/views/video/backend/components/ctrl/share.vue","webpack:///./src/pages/shop/views/video/backend/components/ctrl/share.vue?4c5f","webpack:///./src/pages/shop/views/video/backend/components/ctrl/share.vue"],"names":["share","data","link","showCtrl","site","xcx","props","created","this","item","detail_url","indexOf","Settings","methods","Share","val","$util","app","Shop","wechat","type","wtype","title","content","description","image","conver","Close","variable","Setbatch","key","Poster","_this","info","$store","getters","variables","many","ShopVideoShareSetting","functions","Len","SetType","Object","video_bac","then","Set","catch","error","hint","Msg","message","wapArr","is_wap","xcxArr","is_xcx","ctrl_share","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","staticStyle","transform","_e","attrs","_m","$event","src","__webpack_require__","alt","copy","cursor","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/96.cb471ef18acbfc5d0118.js","sourcesContent":["<template>\n    <div class=\"select-layer\">\n        <div class=\"bg\" @click=\"Close\"></div>\n        <div class=\"shareContet\" style=\"transform: translateY(0);\">\n            <div class=\"shareContet_box\">\n                <div v-if=\"!showCtrl\" class=\"shareContet_box_top\">\n                    <van-loading type=\"spinner\" />\n                </div>\n\n                <div v-if=\"showCtrl\" class=\"shareContet_box_top\">\n                    <div class=\"shareContet_box_top_title\">\n                        <span>分享</span>\n                    </div>\n                    <div class=\"shareContet_box_top_operation\">\n                        <div v-if=\"site && site != 'xcx'\" class=\"shareContet_box_top_operation_cnt\" @click=\"Share(1)\">\n                            <img src=\"@/pages/shop/static/images/video/videoShateWeixin.png\" alt=\"\">\n                            <div><span>分享好友</span></div>\n                        </div>\n                        <div v-if=\"site && site != 'xcx'\" class=\"shareContet_box_top_operation_cnt\" @click=\"Share(0)\">\n                            <img src=\"@/pages/shop/static/images/video/pyq.png\" alt=\"\">\n                            <div><span>分享朋友圈</span></div>\n                        </div>\n                        <div v-if=\"site\" class=\"shareContet_box_top_operation_cnt\" @click=\"Poster()\">\n                            <img src=\"@/pages/shop/static/images/video/videoSharePic.png\" alt=\"\">\n                            <div><span>分享海报</span></div>\n                        </div>\n                        <div v-if=\"site && site != 'xcx'\" class=\"shareContet_box_top_operation_cnt\" @click=\"$util.app.Shop.Share.copy({content: link})\">\n                            <img src=\"@/pages/shop/static/images/video/videoShareLink.png\" alt=\"\">\n                            <div><span>复制链接</span></div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"shareContet_box_bottom\">\n                    <span style=\"cursor: pointer;\" @click=\"Close\">取消</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import { shareSetting } from \"@/api/shop/video.bac\";\n    import Hint from '@/plugins/hint'\n\n    export default {\n        data() {\n            return {\n                link: '',\n                // 显示分享按钮组\n                showCtrl: false,\n                // 站点信息 wap 手机 xcx 小程序 all 全部 默认没有\n                site: '',\n                // 小程序信息\n                xcx: {}\n            }\n        },\n        props: [\"data\"],\n\n        created() {\n            this.link = this.data.item.detail_url.indexOf(\"http\") === 0 ? this.data.item.detail_url : \"http://\" + this.data.item.detail_url;\n            this.Settings();\n        },\n\n        methods: {\n\n            /**\n             * 微信分享\n             * @param val 0:朋友圈、1:好友\n             * @constructor\n             */\n            Share(val) {\n                // this.$util.functions.GetQueryString(\"id\", new URL(this.link));\n                // this.$util.functions.GetQueryString(\"token\");\n                this.$util.app.Shop.Share.wechat({\n                    type: 1,\n                    wtype: val * 1,\n                    title: this.data.item.title,\n                    content: this.data.item.description,\n                    image: this.data.item.conver,\n                    link: this.link,\n                })\n            },\n\n            /**\n             * 关闭操作按钮\n             * @constructor\n             */\n            Close() {\n                this.$util.variable.Setbatch([\n                    {\n                        key: \"ShopVideoBacActions\",\n                        val: false\n                    }, {\n                        key: \"ShopVideoBacShare\",\n                        val: false\n                    }, {\n                        key: \"ShopVideoBacPoster\",\n                        val: false\n                    },\n                ]);\n            },\n\n            /**\n             * 分享海报\n             * @constructor\n             */\n            Poster() {\n                this.Close();\n                this.$util.variable.Setbatch([\n                    {\n                        key: \"ShopVideoBacPoster\",\n                        val: true\n                    }, {\n                        key: \"ShopVideoBacPoster\",\n                        val: {\n                            site: this.site,\n                            xcx: this.xcx\n                        }\n                    },\n                ]);\n            },\n\n            /**\n             * 分享设置\n             * @constructor\n             */\n            Settings() {\n                let info = this.$store.getters.variables.many.ShopVideoShareSetting;\n                if (this.$util.functions.Len(info)) {\n                    return this.SetType(info)\n                }\n\n                shareSetting().then(data => {\n                    this.$util.variable.Set({\n                        key: \"ShopVideoShareSetting\",\n                        val: data\n                    });\n\n                    // let url = new URL(this.link);\n                    // this.link = \"http://\" + data.host + url.pathname + url.search;\n                    this.SetType(data);\n                }).catch(error => {\n                    Hint.Msg({\n                        message: \"分享信息获取失败\"\n                    });\n\n                    this.Close();\n                });\n            },\n\n            /**\n             * 设置回调\n             * @param data\n             * @constructor\n             */\n            SetType(data) {\n                this.showCtrl = true;\n\n                if (data.wapArr.is_wap * 1 === 1) {\n                    this.site = \"wap\";\n                }\n\n                if (data.xcxArr.is_xcx * 1 === 1) {\n                    if (!this.site) {\n                        this.site = \"xcx\";\n                    } else {\n                        this.site = \"all\";\n                    }\n                }\n\n                this.xcx = data.xcxArr;\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    @import \"@/pages/shop/static/css/video.scss\";\n\n    .shareContet {\n        z-index: 1001;\n    }\n\n    .shareContet_box_top_operation_cnt, .sharePosters_box_guanbi {\n        cursor: pointer;\n    }\n    .shareContet {\n        .shareContet_box{\n            .shareContet_box_top{\n                .shareContet_box_top_operation{\n                    .shareContet_box_top_operation_cnt:last-child{\n                        margin: 0 .25rem;\n                    }\n                }\n\n            }\n\n        }\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/shop/views/video/backend/components/ctrl/share.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"select-layer\"},[_c('div',{staticClass:\"bg\",on:{\"click\":_vm.Close}}),_vm._v(\" \"),_c('div',{staticClass:\"shareContet\",staticStyle:{\"transform\":\"translateY(0)\"}},[_c('div',{staticClass:\"shareContet_box\"},[(!_vm.showCtrl)?_c('div',{staticClass:\"shareContet_box_top\"},[_c('van-loading',{attrs:{\"type\":\"spinner\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.showCtrl)?_c('div',{staticClass:\"shareContet_box_top\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"shareContet_box_top_operation\"},[(_vm.site && _vm.site != 'xcx')?_c('div',{staticClass:\"shareContet_box_top_operation_cnt\",on:{\"click\":function($event){return _vm.Share(1)}}},[_c('img',{attrs:{\"src\":require(\"@/pages/shop/static/images/video/videoShateWeixin.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_vm._m(1)]):_vm._e(),_vm._v(\" \"),(_vm.site && _vm.site != 'xcx')?_c('div',{staticClass:\"shareContet_box_top_operation_cnt\",on:{\"click\":function($event){return _vm.Share(0)}}},[_c('img',{attrs:{\"src\":require(\"@/pages/shop/static/images/video/pyq.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_vm._m(2)]):_vm._e(),_vm._v(\" \"),(_vm.site)?_c('div',{staticClass:\"shareContet_box_top_operation_cnt\",on:{\"click\":function($event){return _vm.Poster()}}},[_c('img',{attrs:{\"src\":require(\"@/pages/shop/static/images/video/videoSharePic.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_vm._m(3)]):_vm._e(),_vm._v(\" \"),(_vm.site && _vm.site != 'xcx')?_c('div',{staticClass:\"shareContet_box_top_operation_cnt\",on:{\"click\":function($event){return _vm.$util.app.Shop.Share.copy({content: _vm.link})}}},[_c('img',{attrs:{\"src\":require(\"@/pages/shop/static/images/video/videoShareLink.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_vm._m(4)]):_vm._e()])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"shareContet_box_bottom\"},[_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.Close}},[_vm._v(\"取消\")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shareContet_box_top_title\"},[_c('span',[_vm._v(\"分享\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',[_vm._v(\"分享好友\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',[_vm._v(\"分享朋友圈\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',[_vm._v(\"分享海报\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',[_vm._v(\"复制链接\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-ac13b800\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/shop/views/video/backend/components/ctrl/share.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ac13b800\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./share.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./share.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./share.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ac13b800\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./share.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ac13b800\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/shop/views/video/backend/components/ctrl/share.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}