webpackJsonp([16],{"+7e2":function(t,s,e){t.exports=e.p+"static/img/empty_search_item_icon.1d8fde8.png"},"+KbE":function(t,s){},NORy:function(t,s,e){t.exports=e.p+"static/img/empty_list_item_icon.e6246f7.png"},SsjJ:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("4YfN"),a=e.n(i),n=(e("RJSr"),e("dT7Q")),o=e("mUeO"),c=e("s2Qm"),r=e("ZQn7"),l=e("b9vL"),u=e("0IQH"),d={name:"videoList",data:function(){return{showBackBtn:!0,showSearchHistory:!1,HistoryList:null,keyWord:""}},created:function(){this.gethHistoryData()},methods:{gethHistoryData:function(){var t=this;Object(o.m)({}).then(function(s){s.cnt&&(t.HistoryList=s.list)})},showHideHistory:function(t){this.HistoryList&&this.HistoryList.length&&(this.showSearchHistory=!0,this.HistoryList=res.list)},backList:function(){this.$parent.showHideSearchLayer(!1)},enterSearch:function(){this.keyWord.length?this.$emit("searchBack",this.keyWord):u.a.Msg({message:"请输入关键字"})}}},h={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"V-S-P"},[e("div",{staticClass:"page-title",style:{"margin-top":t.$store.getters.variables.many.BarHeight/2+"px"}},[e("i",{staticClass:"sjzs-icon s-icon-left-1",on:{click:t.backList}}),t._v(" "),e("div",{staticClass:"input-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWord,expression:"keyWord"}],attrs:{type:"text",placeholder:"请输入您要搜索的内容"},domProps:{value:t.keyWord},on:{keydown:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.enterSearch(s)},input:function(s){s.target.composing||(t.keyWord=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"btn-box",on:{click:t.enterSearch}},[e("button",[t._v("搜索")])])]),t._v(" "),e("div",{staticClass:"search-history"},[e("dl",[t._m(0),t._v(" "),e("dd",[t.HistoryList&&t.HistoryList.length?e("ul",{staticClass:"history-list"},t._l(t.HistoryList,function(s,i){return e("li",{key:s.id},[e("span",{staticClass:"key-word"},[t._v(t._s(s.name))]),t._v(" "),e("i",{staticClass:"sjzs-icon s-icon-cross-1"})])}),0):e("div",[t._v("暂无搜索记录")])])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("dt",[s("strong",[this._v("历史搜索")]),this._v(" "),s("i",{staticClass:"sjzs-icon s-icon-delete-1"})])}]};var p=e("C7Lr")(d,h,!1,function(t){e("iTuH")},null,null).exports,f=e("zS0x"),v={name:"videoList",data:function(){return{noPicUrl:"https://aimg8.dlssyht.cn/wap/public/shop_nopic.png",Banner:{listData:[]},Classify:{show:!1,conShow:!1,loading:!1,curItem:{id:0,name:"全部"},list:[]},VideoList:{manage:0,firstLoad:1,curPage:1,pageLimit:30,loading:0,ajaxFinish:0,listData:[],show:0},SearchVideo:{keyword:""},Member:{loading:!1,coverUploading:!1},popupLayer:{show:!1,conShow:!1,curState:null},showBackBtn:!1,node_env:this.$util.functions.environment(),token:this.$util.cookies.get("token")||""}},watch:{$route:function(t,s){this.GestureGoHome()},curItem:function(){var t=this;setTimeout(function(){var s=t.$refs.classifyList.querySelector(".active");if(s){var e=Math.max(s.offsetLeft-t.$refs.classifyList.offsetWidth/2,0);t.$refs.classifyList.scrollLeft=e}},700)}},created:function(){this.getMemberInfo(),this.getBannerData(),this.getClassListData()},mounted:function(){this.VideoList;this.$route.query.class_id&&(this.Classify.curItem.id=1*this.$route.query.class_id),this.bindEvent(),this.GestureGoHome()},methods:{goHelp:function(){this.$router.push({path:"help"})},bindEvent:function(){var t=this,s=(t.VideoList,$("#pageMainWrap")),e=s.find(".no-data-text"),i=s.find(".list-head"),a=i.outerHeight(),n=s.find(".list-body"),o=null,c=$(document),r=c.scrollTop(),l=null,u=$(window);c.on("scroll",function(){o=o||n.offset().top;var s=c.scrollTop();s>=o?(i.addClass("fixed animated fadeInDown").css({"padding-top":t.$store.getters.variables.many.BarHeight/2+"px"}),n.css("padding-top",a)):i.hasClass("fixed")&&s<o-a&&(i.removeClass("fixed animated fadeInDown").css({"padding-top":""}),n.css("padding-top",0)),clearTimeout(l),r<s&&u.outerHeight()>=e.offset().top-s&&(r=s,l=setTimeout(function(){t.getVideoListData("add")},200))})},getMemberInfo:function(){var t=this,s=this,e=s.Member;e.loading=!0,Object(o.o)().then(function(i){for(var a in i)e[a]=i[a];5!==e.userStatus&&4!==e.userStatus||n.a.alert({className:"video-dialog",title:"温馨提示",message:5===e.userStatus?"您的短视频服务即将到期,到期后您的短视频将被全部下架,请及时充值":"您的短视频服务已到期,即将删除您的全部短视频,请及时续费",confirmButtonText:"关闭",confirmButtonColor:"#FF9900"}),e.loading=!1,84!=i.siteid?t.showBackBtn=!0:setTimeout(function(){s.$util.app.Shop.ShowFooterMenu(1)},10),s.$util.shopVideo.username(i.username)})},CoverUpload:function(t){var s=this.Member,e=t.srcElement;s.coverUploading=!0,Object(o.i)(e).then(function(t){s.videoBanner=t,s.coverUploading=!1})},getBannerData:function(){var t=this.Banner;Object(o.b)().then(function(s){JSON.parse(s.banners).forEach(function(s,e){t.listData.push(s)})})},refreshClassListData:function(){this.getClassListData("refresh")},getClassListData:function(t){var s=this,e=s.Classify;s.$util.app.Shop.Refresh(!0,0),e.list.splice(0,e.list.length),Object(o.e)({}).then(function(i){i.list&&i.list.length&&i.list.forEach(function(t){e.list.push(t)}),"refresh"!==t&&s.getVideoListData()})},selectClassifyShow:function(){this.$util.app.Shop.Refresh(!1,0),this.$refs.selectClassifyLayer.showClassifyLayer(1)},switchClassify:function(t){var s=this.VideoList;this.Classify.curItem.id==t.id||s.loading||(this.Classify.curItem.id=t.id,this.Classify.curItem.name=t.name,s.loading=!1,s.ajaxFinish=!1,s.curPage=1,s.show=0,s.listData.splice(0,s.listData.length),this.getVideoListData("switchClass"))},changeVideoClass:function(t,s){if(t&&0!=t.id){var e=this,i=e.Classify;if(t.id!=i.curItem.id){var c=e.VideoList,r={},l=0;c.listData.forEach(function(t,s){t.selected&&!t.del&&(r["video_ids["+s+"]"]=t.id,l++)}),l&&n.a.confirm({className:"video-dialog-alert",message:"确认将所选"+l+'个视频批量转移至分类"'+t.name+'"吗?',confirmButtonColor:"#FF9900"}).then(function(){Object(o.G)(a()({},r,{class_id:t.id})).then(function(i){c.listData.forEach(function(s,e){s.selected&&(s.class_id=t.id,s.selected=0)}),u.a.Msg({message:"转移成功"}),e.switchClassify(t),e.VideoList.manage=!1,setTimeout(function(){s(0)},100)})}).catch(function(){})}else u.a.Msg({message:"当前视频已经在此分类下"})}else u.a.Msg({message:"请选择转移到的分类项"})},getVideoListData:function(t){var s=this,e=s.VideoList,i=s.Classify;e.loading||e.ajaxFinish||(e.loading=!0,Object(o.E)({limit:e.pageLimit,page:e.curPage,class_id:i.curItem.id}).then(function(i){e.firstLoad=!1,e.show=1;var a=i.list;a.length?(a.forEach(function(t,s){t.opacity=0,t.left=0,t.top=0,t.height=0,t.col=0,t.selected=0,e.listData.push(t)}),t&&s.$refs.VideoListComponent.counLayout(t),e.curPage+=1):(e.ajaxFinish=1,e.loading=!1)}).catch(function(t){}))},goBuy:function(t){var s=this.Member;s.siteVip?s.isAppShopping?t?this.$router.push({path:"buy",query:{proType:t}}):this.$router.push({path:"buy"}):u.a.Alert({message:"请联系客服"}):n.a.alert({className:"video-dialog-alert",message:"该功能仅对付费网站开放,免费网站不支持购买",confirmButtonColor:"#FF9900",confirmButtonText:"关闭"})},VideoManageSwitch:function(t){var s=this.Member,e=this.VideoList;e.listData.length?(e.manage=t,this.$refs.VideoManageBtn.allSelected=0,e.listData.forEach(function(t,s){t.selected=0}),1===s.appFooterVersion&&this.$util.app.Shop.ShowFooterMenu(!t)):u.a.Msg({message:"当前没有可管理视频"})},toPublish:function(){var t=this.Member,s=this.VideoList;t.siteVip?1===t.userStatus&&s.listData.length?this.showHidePopup(1,"testMember"):(this.$util.variable.Set({key:"VideoData",val:{}}),location.href="/VFrontend/shop/bac/video/publish/upload"):n.a.alert({className:"video-dialog-alert",message:"抱歉,该功能仅对付费网站开放使用",confirmButtonColor:"#FF9900",confirmButtonText:"关闭"})},showHidePopup:function(t,s){var e=this.popupLayer;1===t?(e.show=t,e.curState=s,setTimeout(function(){e.conShow=t},1)):(setTimeout(function(){e.show=t},300),e.conShow=t)},GestureGoHome:function(){var t=this;setTimeout(function(){window.goGestureCallback=function(){t.$util.functions.GoBack("top",t.$route)}})},showHideSearchLayer:function(t){this.$router.push({path:"search"})},classifyManage:function(){this.$router.push({path:"classifyManage"})},goBack:function(){this.$util.functions.GoBack("top",this.$route)}},computed:{curItem:function(){return this.Classify.curItem.id}},components:{PageHead:l.a,SelectClassify:r.a,VideoSearch:p,VideoManageBtn:f.a,VideoListComponent:c.a}},m={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"video-list-page"},[i("PageHead",{attrs:{title:"短视频"},on:{backFun:t.goBack}},[[i("i",{staticClass:"sjzs-icon s-icon-help-1",on:{click:t.goHelp}})]],2),t._v(" "),i("div",{staticClass:"page-main-wrap",attrs:{id:"pageMainWrap"}},[i("div",{staticClass:"info-area"},[t.Member.loading?t._e():i("div",{staticClass:"member-info-box"},[i("a",{staticClass:"member-portrait",attrs:{href:("production"===t.node_env?"https://sjzs.dlszywz.cn":"https://sjzstest.dlszywz.cn")+"/home/user/baseinfo?token="+t.token}},[i("div",{staticClass:"portrait-box"},[t.Member.logo?i("img",{attrs:{src:t.Member.logo+"?x-oss-process=image/resize,m_fill,h_130,w_130,limit_0"}}):i("img",{attrs:{src:e("iYKm")}})]),t._v(" "),i("span",{staticClass:"sjzs-icon s-icon-edit-1"})]),t._v(" "),i("div",{staticClass:"member-attr"},[i("div",{staticClass:"attr-left"},[i("div",{staticClass:"member-rank",class:{"rank-0":1!==t.Member.isVipIcon,"rank-1":1===t.Member.isVipIcon}},[i("i",{staticClass:"rank-icon"}),t._v(" "),i("b",{staticClass:"rank-text"},[t._v(t._s(t.Member.userStatusName))])]),t._v(" "),t.Member.vipEndDate||1===t.Member.isVipPassData?i("div",{staticClass:"rank-date"},[1===t.Member.isVipPassData?i("em",[t._v("您的服务已到期,请及时充值")]):t.Member.vipEndDate?i("span",[t._v("有效期至:"+t._s(t.Member.vipEndDate))]):t._e()]):t._e()]),t._v(" "),i("div",{staticClass:"attr-right"},[t.Member.isRenew?i("button",{on:{click:function(s){return t.goBuy()}}},[t._v("续费")]):t._e(),t._v(" "),t.Member.isRenew?t._e():i("button",{on:{click:function(s){return t.goBuy()}}},[t._v("付费购买")])])])])]),t._v(" "),i("div",{staticClass:"video-list-wrap"},[i("div",{staticClass:"list-head"},[i("div",{staticClass:"list-head-inner"},[i("div",{staticClass:"space-info-box"},[t.showBackBtn?i("i",{staticClass:"sjzs-icon s-icon-left-1",on:{click:function(s){return t.$util.functions.GoBack("top",t.$route)}}}):t._e(),t._v(" "),i("b",[t._v("我的视频")]),t._v(" "),i("i",{staticClass:"sjzs-icon s-icon-search-1",on:{click:function(s){return t.showHideSearchLayer(!0)}}})]),t._v(" "),i("div",{staticClass:"list-manage-btn"},[t.Member.isPublicBut&&!t.VideoList.manage?i("button",{staticClass:"publish-btn",on:{click:t.toPublish}},[i("i",{staticClass:"sjzs-icon s-icon-plus-1"}),t._v("\n                            发布\n                        ")]):t._e(),t._v(" "),t.VideoList.listData&&!t.VideoList.manage?i("button",{staticClass:"admin-btn",on:{click:function(s){return t.VideoManageSwitch(1)}}},[i("i",{staticClass:"sjzs-icon s-icon-set-1"}),t._v("\n                            管理\n                        ")]):t._e(),t._v(" "),t.VideoList.manage?i("button",{staticClass:"finish-btn",on:{click:function(s){return t.VideoManageSwitch(0)}}},[t._v("\n                            完成\n                        ")]):t._e()])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.VideoList.manage,expression:"!VideoList.manage"}],staticClass:"classify-box"},[i("ul",{ref:"classifyList",staticClass:"classify-list"},[i("li",{class:{active:!t.Classify.curItem.id},on:{click:function(s){return t.switchClassify({id:0})}}},[t._v("全部")]),t._v(" "),t._l(t.Classify.list,function(s,e){return i("li",{key:"classify_"+s.id,class:{active:s.id==t.Classify.curItem.id},on:{click:function(e){return t.switchClassify(s)}}},[t._v(t._s(s.name))])})],2),t._v(" "),i("i",{staticClass:"vertical-line"}),t._v(" "),i("span",{staticClass:"manage-btn",on:{click:t.classifyManage}},[t._v("分类管理")])]),t._v(" "),i("div",{class:["list-body",{"list-body-manage":t.VideoList.manage}]},[t.VideoList.firstLoad?t._e():i("VideoListComponent",{directives:[{name:"show",rawName:"v-show",value:t.VideoList.show,expression:"VideoList.show"}],ref:"VideoListComponent",attrs:{listData:t.VideoList.listData,manage:t.VideoList.manage,listType:"list"}}),t._v(" "),t.VideoList.loading?i("span",{staticClass:"loading-icon"}):t._e(),t._v(" "),i("span",{staticClass:"no-data-text",class:t.VideoList.ajaxFinish&&t.VideoList.listData.length?"visible":""},[t._v("没有更多数据了~~")])],1),t._v(" "),i("VideoManageBtn",{directives:[{name:"show",rawName:"v-show",value:t.VideoList.manage,expression:"VideoList.manage"}],ref:"VideoManageBtn",attrs:{listData:t.VideoList.listData}})],1)]),t._v(" "),t.popupLayer.show&&"flow"===t.popupLayer.curState?i("div",{staticClass:"popup-area"},[i("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[t.popupLayer.conShow?i("div",{staticClass:"popup-box"},[i("div",{staticClass:"but-flow-popup"},[i("h5",[t._v("您的短视频流量已用尽 请及时充值流量")]),t._v(" "),i("button",{staticClass:"orange-btn buy-btn",on:{click:function(s){return t.$router.push({path:"buy",query:{proType:4}})}}},[t._v("购买流量")]),t._v(" "),i("button",{staticClass:"default-btn cancel-btn",on:{click:function(s){return t.showHidePopup(0)}}},[t._v("取消")])])]):t._e()])],1):t._e(),t._v(" "),t.popupLayer.show&&"testMember"===t.popupLayer.curState?i("div",{staticClass:"popup-area"},[i("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[t.popupLayer.conShow?i("div",{staticClass:"popup-box"},[i("div",{staticClass:"but-flow-popup"},[i("h5",[t._v("抱歉，体验会员仅支持免费发布一个短视频")]),t._v(" "),i("button",{staticClass:"orange-btn buy-btn",on:{click:function(s){return t.goBuy()}}},[t._v("开通付费账号")]),t._v(" "),i("button",{staticClass:"default-btn cancel-btn",on:{click:function(s){return t.showHidePopup(0)}}},[t._v("取消")])])]):t._e()])],1):t._e(),t._v(" "),t.popupLayer.show&&"info"===t.popupLayer.curState?i("div",{staticClass:"popup-area"},[i("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[t.popupLayer.conShow?i("div",{staticClass:"popup-box"},[i("div",{staticClass:"my-info-popup"},[i("h5",[t._v("短视频套餐")]),t._v(" "),1===t.Member.userStatus?[i("dl",{staticClass:"bar-area"},[i("dt",[t._v("短视频流量")]),t._v(" "),i("dd",[t.Member.userFlowPer>=100?i("div",{staticClass:"finish-text"},[t._v("您的流量已用尽,可购买流量包提升短视频流量")]):t._e(),t._v(" "),i("div",{staticClass:"bar",class:{finish:t.Member.userFlowPer>70,disabled:4===t.Member.userStatus}},[i("i",{style:{width:t.Member.userFlowPer+"%"}})]),t._v(" "),i("p",[t._v("共"+t._s(t.Member.userFlowBytes/1024/1024/1024)+"G,已使用"+t._s(0===t.Member.userUseFlowBytes?t.Member.userUseFlowBytes:(t.Member.userUseFlowBytes/1024/1024/1024).toFixed(1))+"G(服务期内有效)")])])]),t._v(" "),i("div",{staticClass:"btn-box"},[i("button",{staticClass:"orange-btn buy-btn",on:{click:function(s){return t.goBuy()}}},[t._v("付费开通")])])]:[i("dl",{staticClass:"bar-area"},[i("dt",[t._v("存储空间")]),t._v(" "),i("dd",[t.Member.userSpacePer>=100?i("div",{staticClass:"finish-text"},[t._v("您的存储空间已用尽,如需提升请联系客服")]):t._e(),t._v(" "),i("div",{staticClass:"bar",class:{finish:t.Member.userSpacePer>70,disabled:4===t.Member.userStatus}},[i("i",{style:{width:t.Member.userSpacePer+"%"}})]),t._v(" "),i("p",[t._v("共"+t._s(t.Member.userSpaceBytes/1024/1024/1024)+"G,已使用"+t._s(0===t.Member.userSpaceBytes?t.Member.userSpaceBytes:(t.Member.userUseSpaceBytes/1024/1024/1024).toFixed(1))+"G")])]),t._v(" "),i("dt",[t._v("短视频流量")]),t._v(" "),i("dd",[t.Member.userFlowPer>=100?i("div",{staticClass:"finish-text"},[t._v("您的流量已用尽,可购买流量包提升短视频流量")]):t._e(),t._v(" "),i("div",{staticClass:"bar",class:{finish:t.Member.userFlowPer>70,disabled:4===t.Member.userStatus}},[i("i",{style:{width:t.Member.userFlowPer+"%"}})]),t._v(" "),i("p",[t._v("共"+t._s(t.Member.userFlowBytes/1024/1024/1024)+"G,已使用"+t._s(0===t.Member.userUseFlowBytes?t.Member.userUseFlowBytes:(t.Member.userUseFlowBytes/1024/1024/1024).toFixed(1))+"G(服务期内有效)")])])]),t._v(" "),i("div",{staticClass:"data-box"},[i("b",[t._v("服务器")]),t._v(" "),i("span",{class:{red:4===t.Member.userStatus}},[t._v("有效期至"+t._s(t.Member.vipEndDate))])]),t._v(" "),i("div",{staticClass:"btn-box"},[i("button",{staticClass:"orange-btn buy-btn",on:{click:function(s){return t.goBuy()}}},[t._v("续费")]),t._v(" "),i("button",{staticClass:"default-btn cancel-btn",on:{click:function(s){return t.goBuy(4)}}},[t._v("流量包")])])]],2),t._v(" "),i("i",{staticClass:"close",on:{click:function(s){return t.showHidePopup(0)}}})]):t._e()])],1):t._e(),t._v(" "),t.popupLayer.show&&"help"===t.popupLayer.curState?i("div",{staticClass:"popup-area"},[i("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[t.popupLayer.conShow?i("div",{staticClass:"popup-box"},[i("div",{staticClass:"help-info-popup"},[i("p")]),t._v(" "),i("i",{staticClass:"close",on:{click:function(s){return t.showHidePopup(0)}}})]):t._e()])],1):t._e(),t._v(" "),i("SelectClassify",{ref:"selectClassifyLayer",attrs:{title:"选择分类",enterText:"转移至该分类",info:t.Classify.curItem},on:{closeBack:t.changeVideoClass,addClassBack:t.refreshClassListData}})],1)},staticRenderFns:[]};var g=e("C7Lr")(v,m,!1,function(t){e("hWGX")},null,null);s.default=g.exports},YLv8:function(t,s){},hWGX:function(t,s){},iTuH:function(t,s){},iYKm:function(t,s,e){t.exports=e.p+"static/img/member_portrait.c2b5900.png"},s2Qm:function(t,s,e){"use strict";var i={name:"VideoList",props:["listData","manage","listType"],data:function(){return{loading:!1,isFirst:!0,nodeWidth:0,colCount:2,colHeight:[],itemDomArr:null,lastIndex:0}},mounted:function(){this.nodeWidth=this.$refs.listBoxArea.offsetWidth/this.colCount,this.itemDomArr=this.$refs.listBox.children,this.counLayout(0)},methods:{counLayout:function(t){var s=this,e=s.listData;switch(t){case"switchClass":case"del":s.isFirst=!0}"add"!=t&&(s.lastIndex=0),function t(i){if(i<e.length){var a=new Image,n=e[i];a.onerror=a.onload=function(a){"error"===a.type&&(n.conver=s.noPicUrl),n.height=s.itemDomArr[i].offsetHeight,s.waterFall(n),i==e.length-1&&(s.$parent.VideoList.loading=!1),t(s.lastIndex+=1)},a.src=n.conver}}(s.lastIndex)},waterFall:function(t){if(this.isFirst){for(var s=0;s<this.colCount;s++)this.colHeight[s]=0;this.isFirst=!1}var e=0,i=this.colHeight[0];for(s=0;s<this.colHeight.length;s++)this.colHeight[s]<i&&(e=s,i=this.colHeight[s]);t.left=this.nodeWidth*e,t.top=i,t.opacity=1,t.col=e+1,this.colHeight[e]=t.height+this.colHeight[e],this.$refs.listBox&&(this.$refs.listBox.style.height=Math.max.apply(null,this.colHeight)+"px")},goDetail:function(t){var s=0,e="";switch(this.listType){case"list":s=this.$parent.Classify.curItem.id;break;case"search":e=this.$parent.keyWord}this.$router.push({path:"detail",query:{id:t.id,class_id:s,search_title:e}})},VideoSelectItem:function(t){t.selected=1*!t.selected;var s=this.listData.find(function(t){return 0==t.selected});s&&this.$parent.$refs.VideoManageBtn&&(this.$parent.$refs.VideoManageBtn.allSelected=0),!s&&this.$parent.$refs.VideoManageBtn&&(this.$parent.$refs.VideoManageBtn.allSelected=1)}},computed:{}},a={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{ref:"listBoxArea",staticClass:"list-box-area",attrs:{id:"listBoxArea"}},[i("ul",{directives:[{name:"show",rawName:"v-show",value:t.listData.length,expression:"listData.length"}],ref:"listBox",staticClass:"list-box"},[t._l(t.listData,function(s,e){return[s.del?t._e():i("li",{class:"list-item list-item-"+s.col,style:{left:s.left+"px",top:s.top+"px",opacity:s.opacity},attrs:{"data-id":s.id,"data-classid":s.class_id}},[s.is_publish?i("span",{staticClass:"state-box",attrs:{"data-state":"up"}},[t._v("已上线")]):t._e(),t._v(" "),s.is_publish?t._e():i("span",{staticClass:"state-box",attrs:{"data-state":"down"}},[t._v("已下架")]),t._v(" "),t.manage?i("span",{staticClass:"sjzs-icon s-icon-duigou-1 radio-select",attrs:{"data-selected":s.selected},on:{click:function(e){return t.VideoSelectItem(s)}}}):t._e(),t._v(" "),i("div",{staticClass:"img-box",on:{click:function(e){return t.goDetail(s)}}},[i("img",{attrs:{src:s.conver,alt:s.description}})]),t._v(" "),i("div",{staticClass:"name-box"},[i("span",[t._v(t._s(s.title))])])])]})],2),t._v(" "),t.listData.length?t._e():i("div",{staticClass:"empty-list-item"},["search"==t.listType?[i("img",{attrs:{src:e("+7e2"),alt:""}}),t._v(" "),i("p",[t._v("没有找到相关内容")])]:[i("img",{attrs:{src:e("NORy"),alt:""}}),t._v(" "),i("p",[t._v("您还没有添加的视频哦")])]],2)])},staticRenderFns:[]};var n=e("C7Lr")(i,a,!1,function(t){e("+KbE")},"data-v-2933edc4",null);s.a=n.exports},zS0x:function(t,s,e){"use strict";var i=e("4YfN"),a=e.n(i),n=(e("RJSr"),e("dT7Q")),o=e("mUeO"),c=e("0IQH"),r={name:"VideoManage",props:["listData"],data:function(){return{allSelected:0}},methods:{VideoListManage:function(t){var s=this,e=s.listData;switch(t){case"select":s.allSelected=1*!s.allSelected,e.forEach(function(t,e){t.selected=s.allSelected});break;case"up":case"down":case"del":case"classify":var i={},r=!1;if(e.forEach(function(t,s){t.selected&&!t.del&&(i["ids["+s+"]"]=t.id,r=!0)}),r)switch(t){case"del":n.a.confirm({className:"video-dialog-alert",message:"确定要删除吗？",confirmButtonColor:"#FF9900"}).then(function(){Object(o.J)(a()({},i)).then(function(t){if(t){for(var i=e.length-1;i>=0;)e[i].selected&&(e[i].del=!0,e.splice(i,1)),i--;c.a.Msg({message:"删除成功"}),s.$parent.$refs.VideoListComponent.counLayout("del")}})}).catch(function(){});break;case"up":case"down":var l=1*("up"===t),u="up"===t?"上架":"下架";n.a.confirm({className:"video-dialog-alert",message:"确定要"+u+"吗？",confirmButtonColor:"#FF9900"}).then(function(){Object(o.K)(a()({},i,{publish:l})).then(function(t){t&&(e.forEach(function(t,s){t.selected&&(t.is_publish=l)}),c.a.Msg({message:u+"成功"}))})}).catch(function(){});break;case"classify":s.$parent.selectClassifyShow()}else c.a.Msg({message:"请选择视频项目进行操作"})}}}},l={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"video-manage-btn list-foot"},[e("span",{staticClass:"all-select",on:{click:function(s){return t.VideoListManage("select")}}},[e("i",{staticClass:"sjzs-icon s-icon-duigou-1 radio-select",attrs:{"data-selected":t.allSelected}}),t._v(" "),e("b",[t._v("全选")])]),t._v(" "),e("span",{staticClass:"btn-area"},[e("button",{staticClass:"btn-up",on:{click:function(s){return t.VideoListManage("up")}}},[t._v("\n            上架\n        ")]),t._v(" "),e("button",{staticClass:"btn-down",on:{click:function(s){return t.VideoListManage("down")}}},[t._v("\n            下架\n        ")]),t._v(" "),e("button",{staticClass:"btn-classify",on:{click:function(s){return t.VideoListManage("classify")}}},[t._v("\n            分类\n        ")]),t._v(" "),e("button",{staticClass:"btn-del",on:{click:function(s){return t.VideoListManage("del")}}},[t._v("\n            删除\n        ")])])])},staticRenderFns:[]};var u=e("C7Lr")(r,l,!1,function(t){e("YLv8")},"data-v-73704aa5",null);s.a=u.exports}});
//# sourceMappingURL=16.850e6b80d114e1555932.js.map