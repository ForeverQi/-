{"version":3,"sources":["webpack:///src/pages/shop/views/video/backend/buy.vue","webpack:///./src/pages/shop/views/video/backend/buy.vue?ee2d","webpack:///./src/pages/shop/views/video/backend/buy.vue"],"names":["buy","data","year","price","product","baseinfo","payType","computed","extends_default","Object","vuex_esm","created","_this","this","video_bac","then","proid","GetPayConf","methods","_this2","Pay","thisS","$util","pay","app","run","pay_type","id","callback","res","message","Platform","JSON","parse","errCode","hint","Alert","title","$router","push","path","components","PageHead","backend_buy","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","src","logo","class","isRenew","_s","userStatusName","userStatus","vipEndDate","_e","selected","on","click","$event","name","_m","data-selected","functions","Len","staticStyle","color","href","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/77.3edace03c1826632b4eb.js","sourcesContent":["<template>\n<div class=\"page-layout buy-member-wrap\">\n\n    <!-- 页面头部 -->\n    <PageHead :title=\"'短视频'\" />\n\n    <!-- 页面内容 -->\n    <div class=\"page-body\">\n        <!-- 会员信息 -->\n        <div class=\"member-info-box\">\n            <div class=\"member-portrait\">\n                <div class=\"portrait-box\">\n                    <img :src=\"baseinfo.logo ? baseinfo.logo : 'https://aimg8.dlssyht.cn/wap/public/shop_nopic.png'\" />\n                </div>\n            </div>\n            <div class=\"member-attr\">\n                <div class=\"attr-left\">\n                    <div class=\"member-rank\" :class=\"baseinfo.isRenew != 1 ? 'rank-0' : 'rank-1'\">\n                        <i class=\"rank-icon\"></i>\n                        <!-- <b class=\"rank-text\">{{baseinfo.isRenew == 1 ? '包月会员' : '体验会员'}}</b> -->\n                        <b class=\"rank-text\">{{baseinfo.userStatusName}}</b>\n                        <!-- <i class=\"rank-help\"></i> -->\n                    </div>\n                    <div class=\"rank-date\" v-if=\"baseinfo.userStatus!=1\">\n                        <span v-if=\"baseinfo.userStatus === 2\">有效期至:{{baseinfo.vipEndDate}}</span>\n                        <em v-if=\"baseinfo.userStatus === 3\">您的服务已到期,请及时充值</em>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"tab-box version-tab\">\n            <div class=\"tab-b\">\n                <div class=\"version-select standard-version\">\n                    <ul class=\"select-item-box\">\n                        <li class=\"select-item\" @click=\"year = 1\" :class=\"{'selected': year === 1}\">\n                            <h6>一年</h6>\n                            <span class=\"price\"><i>&yen;</i><b>{{ product.price || 0 }}</b></span>\n                            <span v-if=\"year === 1\" class=\"sjzs-icon s-icon-duigou-1 radio-select\"></span>\n                        </li>\n                        <li class=\"select-item\" @click=\"year = 2\" :class=\"{'selected': year === 2}\">\n                            <h6>两年</h6>\n                            <span class=\"price\"><i>&yen;</i><b>{{ product.price * 2 || 0 }}</b></span>\n                            <span v-if=\"year === 2\" class=\"sjzs-icon s-icon-duigou-1 radio-select\"></span>\n                        </li>\n                    </ul>\n                    <p class=\"remarks-text\">{{ product.name }}</p>\n                </div>\n                <div class=\"version-select profession-version\"></div>\n                <div class=\"version-select vip-version\"></div>\n            </div>\n        </div>\n        <ul class=\"pay-list\">\n            <li class=\"pay-item\" @click=\"payType = 'wechat'\">\n                <span class=\"item-left\">\n                    <i class=\"pay-icon wxpay-icon\"></i>\n                    <b>微信支付</b>\n                </span>\n                <span class=\"item-right\">\n                    <i :data-selected=\"payType == 'wechat' ? 1 : 0\" class=\"sjzs-icon s-icon-duigou-1 radio-select\"></i>\n                </span>\n            </li>\n        </ul>\n\n        <a v-if=\"$util.functions.Len(product)\" href=\"javascript:;\" @click=\"Pay\" style=\"color: #fff;\">\n            <div class=\"btn-area\">\n                <a class=\"orange-btn buy-btn\">支付￥{{ product.price * year || 0 }}立即开通</a>\n            </div>\n        </a>\n        <div class=\"loading\" v-else>\n            <van-loading color=\"#1989fa\" />\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\nimport {\n    PayConf,\n    setMealQuery\n} from \"@/api/shop/video.bac\";\nimport PageHead from \"./components/PageHead\";\nimport {\n    mapGetters\n} from 'vuex'\nimport Hint from '@/plugins/hint'\n\nexport default {\n    data() {\n        return {\n            year: 1,\n            price: 0,\n            product: {},\n            // 基础信息\n            baseinfo: {},\n            payType: \"wechat\"\n        }\n    },\n\n    computed: {\n        ...mapGetters([\n            'variables'\n        ])\n    },\n\n    created() {\n        // 基础信息\n        setMealQuery({}).then(data => {\n            this.baseinfo = data;\n            this.proid = this.baseinfo.proid * 1 ? this.baseinfo.proid : 0;\n            this.GetPayConf();\n        });\n    },\n\n    methods: {\n        /**\n         * 获取产品信息\n         * @constructor\n         */\n        GetPayConf() {\n            PayConf().then(data => {\n                this.product = data;\n            })\n        },\n\n        /**\n         * 支付\n         * @returns {*|void}\n         * @constructor\n         */\n        Pay() {\n            let thisS = this;\n            // app 支付\n            thisS.$util.pay.app.run({\n                // alipay 支付宝app wechat 微信app  [1 微信 4 微信app 5 支付宝app]\n                pay_type: this.payType,\n                // 产品类型 62\n                id: thisS.product.id,\n                // 购买年限\n                year: thisS.year,\n                // 流量数量\n                callback: function (res) {\n                    let message = res;\n                    if (thisS.$util.app.Platform() === 1) {\n                        res = JSON.parse(res);\n                        if (res.errCode * 1 === 0) {\n                            message = '支付成功';\n                        } else {\n                            message = '支付失败';\n                        }\n                    }\n\n                    Hint.Alert({\n                        title: '提示',\n                        message\n                    }).then(() => {\n                        if (message === '支付失败') {\n                            return false;\n                        }\n\n                        thisS.$router.push({\n                            path: '/shop/bac/video/index'\n                        })\n                    });\n                }\n            });\n        }\n    },\n    components:{\n        PageHead\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"./css/videoPublic\";\n@import \"./css/buyStyle\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/shop/views/video/backend/buy.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-layout buy-member-wrap\"},[_c('PageHead',{attrs:{\"title\":'短视频'}}),_vm._v(\" \"),_c('div',{staticClass:\"page-body\"},[_c('div',{staticClass:\"member-info-box\"},[_c('div',{staticClass:\"member-portrait\"},[_c('div',{staticClass:\"portrait-box\"},[_c('img',{attrs:{\"src\":_vm.baseinfo.logo ? _vm.baseinfo.logo : 'https://aimg8.dlssyht.cn/wap/public/shop_nopic.png'}})])]),_vm._v(\" \"),_c('div',{staticClass:\"member-attr\"},[_c('div',{staticClass:\"attr-left\"},[_c('div',{staticClass:\"member-rank\",class:_vm.baseinfo.isRenew != 1 ? 'rank-0' : 'rank-1'},[_c('i',{staticClass:\"rank-icon\"}),_vm._v(\" \"),_c('b',{staticClass:\"rank-text\"},[_vm._v(_vm._s(_vm.baseinfo.userStatusName))])]),_vm._v(\" \"),(_vm.baseinfo.userStatus!=1)?_c('div',{staticClass:\"rank-date\"},[(_vm.baseinfo.userStatus === 2)?_c('span',[_vm._v(\"有效期至:\"+_vm._s(_vm.baseinfo.vipEndDate))]):_vm._e(),_vm._v(\" \"),(_vm.baseinfo.userStatus === 3)?_c('em',[_vm._v(\"您的服务已到期,请及时充值\")]):_vm._e()]):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"tab-box version-tab\"},[_c('div',{staticClass:\"tab-b\"},[_c('div',{staticClass:\"version-select standard-version\"},[_c('ul',{staticClass:\"select-item-box\"},[_c('li',{staticClass:\"select-item\",class:{'selected': _vm.year === 1},on:{\"click\":function($event){_vm.year = 1}}},[_c('h6',[_vm._v(\"一年\")]),_vm._v(\" \"),_c('span',{staticClass:\"price\"},[_c('i',[_vm._v(\"¥\")]),_c('b',[_vm._v(_vm._s(_vm.product.price || 0))])]),_vm._v(\" \"),(_vm.year === 1)?_c('span',{staticClass:\"sjzs-icon s-icon-duigou-1 radio-select\"}):_vm._e()]),_vm._v(\" \"),_c('li',{staticClass:\"select-item\",class:{'selected': _vm.year === 2},on:{\"click\":function($event){_vm.year = 2}}},[_c('h6',[_vm._v(\"两年\")]),_vm._v(\" \"),_c('span',{staticClass:\"price\"},[_c('i',[_vm._v(\"¥\")]),_c('b',[_vm._v(_vm._s(_vm.product.price * 2 || 0))])]),_vm._v(\" \"),(_vm.year === 2)?_c('span',{staticClass:\"sjzs-icon s-icon-duigou-1 radio-select\"}):_vm._e()])]),_vm._v(\" \"),_c('p',{staticClass:\"remarks-text\"},[_vm._v(_vm._s(_vm.product.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"version-select profession-version\"}),_vm._v(\" \"),_c('div',{staticClass:\"version-select vip-version\"})])]),_vm._v(\" \"),_c('ul',{staticClass:\"pay-list\"},[_c('li',{staticClass:\"pay-item\",on:{\"click\":function($event){_vm.payType = 'wechat'}}},[_vm._m(0),_vm._v(\" \"),_c('span',{staticClass:\"item-right\"},[_c('i',{staticClass:\"sjzs-icon s-icon-duigou-1 radio-select\",attrs:{\"data-selected\":_vm.payType == 'wechat' ? 1 : 0}})])])]),_vm._v(\" \"),(_vm.$util.functions.Len(_vm.product))?_c('a',{staticStyle:{\"color\":\"#fff\"},attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.Pay}},[_c('div',{staticClass:\"btn-area\"},[_c('a',{staticClass:\"orange-btn buy-btn\"},[_vm._v(\"支付￥\"+_vm._s(_vm.product.price * _vm.year || 0)+\"立即开通\")])])]):_c('div',{staticClass:\"loading\"},[_c('van-loading',{attrs:{\"color\":\"#1989fa\"}})],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"item-left\"},[_c('i',{staticClass:\"pay-icon wxpay-icon\"}),_vm._v(\" \"),_c('b',[_vm._v(\"微信支付\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-35ec6b8a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/shop/views/video/backend/buy.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35ec6b8a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./buy.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./buy.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./buy.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35ec6b8a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./buy.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/shop/views/video/backend/buy.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}